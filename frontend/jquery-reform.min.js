/*! jquery-reform 2.0.0 http://github.com/Se7enSky/reform*/
(function(){var t;t=function(t){"use strict";var r;return r=function(){function r(r,i){var s=this;this.el=r,this.$el=t(this.el),this.options=t.extend({},this.defaults,i),this.submitting=!1,this.$el.on({"reform.validationError":function(t,r){return s.showErrors(r)}}),this.options.ajax&&this.initAjaxForm()}return r.prototype.defaults={actionPrefix:!1,ajax:!0,invalidInputClass:"invalid",invalidInputParentClass:"invalid-parent",activeErrorClass:"active-error",activeErrorParentClass:"active-error-parent",invalidFormClass:"invalid-form",submittingClass:"submitting"},r.prototype.startedSubmitting=function(){return this.options.submittingClass&&this.$el.addClass(this.options.submittingClass),this.submitting=!0,this.$el.trigger("reform.submitting")},r.prototype.stoppedSubmitting=function(){return this.submitting=!1,this.options.submittingClass?this.$el.removeClass(this.options.submittingClass):void 0},r.prototype.beforeSubmit=function(t){return this.submitting?!1:(this.clearErrors(),this.$el.trigger("reform.beforeSubmit",{formData:t}),this.startedSubmitting(),!0)},r.prototype.clearErrors=function(){return this.options.invalidFormClass&&this.$el.removeClass(this.options.invalidFormClass),this.options.activeErrorClass&&this.$el.find("[data-error-for]").addClass(this.options.activeErrorClass),this.options.activeErrorParentClass&&this.$el.find("[data-error-for]").parent().addClass(this.options.activeErrorParentClass),this.options.invalidInputParentClass&&this.$el.find("input."+this.options.invalidInputClass).parent().removeClass(this.options.invalidInputParentClass),this.$el.find("input."+this.options.invalidInputClass).removeClass(this.options.invalidInputClass)},r.prototype.showErrors=function(t){var r,i,s,o,n,a,e;this.options.invalidFormClass&&this.$el.addClass(this.options.invalidFormClass),this.options.activeErrorClass&&this.$el.find("[data-error-for='*']").addClass(this.options.activeErrorClass),this.options.activeErrorParentClass&&this.$el.find("[data-error-for='*']").parent().addClass(this.options.activeErrorParentClass),e=[];for(s in t)i=t[s],this.options.activeErrorClass&&this.$el.find("[data-error-for='"+s+"']").addClass(this.options.activeErrorClass),this.options.activeErrorParentClass&&this.$el.find("[data-error-for='"+s+"']").parent().addClass(this.options.activeErrorParentClass),o=s.replace(/\.([^\.]+)/g,"[$1]"),console.log(o),r=this.$el.find("[name='"+o+"']"),r.addClass(this.options.invalidInputClass),this.options.invalidInputParentClass&&r.parent().addClass(this.options.invalidInputParentClass),e.push(function(){var t;t=[];for(a in i)n=i[a],this.options.activeErrorClass&&(this.$el.find("[data-error-for='"+s+" "+a+"']").addClass(this.options.activeErrorClass),this.$el.find("[data-error-for='* "+a+"']").addClass(this.options.activeErrorClass)),this.options.activeErrorParentClass?(this.$el.find("[data-error-for='"+s+" "+a+"']").parent().addClass(this.options.activeErrorParentClass),t.push(this.$el.find("[data-error-for='* "+a+"']").parent().addClass(this.options.activeErrorParentClass))):t.push(void 0);return t}.call(this));return e},r.prototype.handleResponse=function(t,r){var i;return this.stoppedSubmitting(),this.$el.trigger("reform.response",t,r),t?"ValidationError"===(i=null!=t?t.code:void 0)||"validation_error"===i||"validationError"===i||"invalid"===i||"validation"===i?this.$el.trigger("reform.validationError",t.errors||[]):this.$el.trigger("reform.unknownError",t):this.$el.trigger("reform.success",r)},r.prototype.initAjaxForm=function(){var t=this;return this.$el.ajaxForm({url:this.options.actionPrefix?""+this.options.actionPrefix+this.$el.attr("action"):this.$el.attr("action"),beforeSubmit:function(r){return t.beforeSubmit(r)},success:function(r){return t.handleResponse(null,r)},error:function(r){var i,s,o;try{return i=r.getResponseHeader("Content-Type"),o=function(){switch(i){case"application/json":return JSON.parse(r.responseText);default:throw new Error("Unsupported response data format")}}(),t.handleResponse(o)}catch(n){return s=n,t.$el.trigger("reform.unknownError",s)}}})},r.prototype.method=function(){return alert("I am a method")},r}(),t.fn.reform=function(i){return this.each(function(){var s,o;return s=t(this),o=s.data("reform"),o||s.data("reform",o=new r(this,i)),"string"==typeof i?o[i].call(s):void 0})}},"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}).call(this);